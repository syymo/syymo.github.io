<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Github 上的个人博客">
    <meta name="keyword" content="">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-person-128.png">
    <link rel="alternate" type="application/atom+xml" title="syymo" href="/atom.xml">
    <title>
        
        React常见问题｜syymo&#39;s blog
        
    </title>

    <link rel="canonical" href="http://syymo.github.io/2017/12/20/React常见问题/">

    <!-- Font-awesome Core CSS -->
    <link rel="stylesheet" href="/css/font-awesome.min.css">

    <!-- Animate Core CSS -->
    <link rel="stylesheet" href="/css/animate.min.css">
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('//o7bkkhiex.bkt.clouddn.com/lion-blur-bg.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    syymo
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
                        
							
                        <li>
                            <a href="/archives/">archives</a>
                        </li>
							
						
                    
                        
							
                        <li>
                            <a href="/tags/">tags</a>
                        </li>
							
						
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="https://avatars2.githubusercontent.com/u/26571594?s=460&v=4">


<style>
    
    header.intro-header {
        background-image: url('https://avatars2.githubusercontent.com/u/26571594?s=460&v=4')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>React常见问题</h1>
                    
                    <span class="meta">
                         作者 syymo
                        <span>
                          日期 2017-12-20
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                        <a class="tag" href="/tags/#React"
                           title="React">React</a>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            React常见问题
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>参考掘金文章<a href="https://juejin.im/post/59fa9257f265da43062a1b0e" target="_blank" rel="external">Vue脱坑记</a>, 感觉很不错，参考大佬文章整理一下React询问比较多的问题。</p>
<h2 id="npm下载很慢或者下载失败”-npm下载很慢或者下载失败"><a href="#npm下载很慢或者下载失败”-npm下载很慢或者下载失败" class="headerlink" title="npm下载很慢或者下载失败”)npm下载很慢或者下载失败"></a>npm下载很慢或者下载失败”)npm下载很慢或者下载失败</h2><p>此问题比较困扰新手，npm由node一同发布，但由于众所周知的原因导致下载速度过慢，甚至无法下载情况解决方案有以下两种：</p>
<h3 id="1-NPM换源"><a href="#1-NPM换源" class="headerlink" title="1.  NPM换源"></a>1.  NPM换源</h3><pre><code>故名思议，就是把NPM的下载服务器更换为国内的服务器，国内当然是大厂阿里了。
</code></pre><blockquote>
<p>npm config set registry</p>
<p><a href="https://registry.npm.taobao.org/" target="_blank" rel="external">https://registry.npm.taobao.org</a></p>
<p>(npm config get registry 验证是否更换成功）<br>yarn config set registry</p>
<p><a href="https://registry.npm.taobao.org/" target="_blank" rel="external">https://registry.npm.taobao.org</a></p>
<p>(yarn为Facebook出的包管理工具）</p>
</blockquote>
<h3 id="1-使用淘宝出的NPM替代品CNPM"><a href="#1-使用淘宝出的NPM替代品CNPM" class="headerlink" title="1.  使用淘宝出的NPM替代品CNPM"></a>1.  使用淘宝出的NPM替代品<code>CNPM</code></h3><pre><code>(CNPM是使用文件夹快捷方式使用的，有时候会因为这个出现莫名BUG所以还是推荐第一种方法）
</code></pre><blockquote>
<p>npm install -g cnpm —registry=<a href="https://registry.npm.taobao.org/" target="_blank" rel="external">https://registry.npm.taobao.org</a><br>安装成功之后所有需要使用NPM的地方换成CNPM即可 比如NPM i React 就可以写成CNPM i React</p>
</blockquote>
<h2 id="NPM安装NODE-SASS-使用SASS但是无法下载NODE-SASS"><a href="#NPM安装NODE-SASS-使用SASS但是无法下载NODE-SASS" class="headerlink" title="NPM安装NODE-SASS 使用SASS但是无法下载NODE-SASS"></a>NPM安装NODE-SASS 使用SASS但是无法下载NODE-SASS</h2><p>因为NODE—SASS在GitHub托管的是源码，需要用户自己编译。而编译需要Python和Visual C ++构建环境（Windows同学，其他操作系统Linux以及Mac不需要）最简单的办法就是通过上面的办法进行换源，淘宝源上的是编译好的，如果非要自己编译，请自行安装Python2.7以及<a href="http://landinghub.visualstudio.com/visual-cpp-build-tools" target="_blank" rel="external">Visual C ++生成工具</a>,具体请参考<a href="https://github.com/nodejs/node-gyp#on-windows" target="_blank" rel="external">官方文档</a><br><code>更新</code></p>
<p>NODE-SASS 只有CNPM 下载下来的是编译好的</p>
<h3 id="找不到相关资源can-39-t-not-find-39-xxModule-39"><a href="#找不到相关资源can-39-t-not-find-39-xxModule-39" class="headerlink" title="找不到相关资源can&#39;t not find &#39;xxModule&#39;"></a>找不到相关资源<code>can&#39;t not find &#39;xxModule&#39;</code></h3><p>找不到相关资源</p>
<p>出现这个问题有两种原因：</p>
<h3 id="1-引用路径有问题，npm包是直接Import-React-from-‘react’-只需要写包名即可。而引用组件，静态资源是需要写相对路径的（有个问题就是所有文件里面的静态资源都需要import引入或者require引入，否则webpack无法得知依赖关系，而导致找不到）。"><a href="#1-引用路径有问题，npm包是直接Import-React-from-‘react’-只需要写包名即可。而引用组件，静态资源是需要写相对路径的（有个问题就是所有文件里面的静态资源都需要import引入或者require引入，否则webpack无法得知依赖关系，而导致找不到）。" class="headerlink" title="1.  引用路径有问题，npm包是直接Import React from ‘react’ 只需要写包名即可。而引用组件，静态资源是需要写相对路径的（有个问题就是所有文件里面的静态资源都需要import引入或者require引入，否则webpack无法得知依赖关系，而导致找不到）。"></a>1.  引用路径有问题，npm包是直接Import React from ‘react’ 只需要写包名即可。而引用组件，静态资源是需要写相对路径的（有个问题就是所有文件里面的静态资源都需要import引入或者require引入，否则webpack无法得知依赖关系，而导致找不到）。</h3><h3 id="2-第二种就是相关包没有下载或者下载不齐全，项目根目录重新命令行NPM-i-即可"><a href="#2-第二种就是相关包没有下载或者下载不齐全，项目根目录重新命令行NPM-i-即可" class="headerlink" title="2.  第二种就是相关包没有下载或者下载不齐全，项目根目录重新命令行NPM i 即可"></a>2.  第二种就是相关包没有下载或者下载不齐全，项目根目录重新命令行NPM i 即可</h3><h2 id="React的给return出来的HTML添加事件报错this-xxxx-xxxx-not-a-function"><a href="#React的给return出来的HTML添加事件报错this-xxxx-xxxx-not-a-function" class="headerlink" title="React的给return出来的HTML添加事件报错this.xxxx.xxxx not a function"></a>React的给return出来的HTML添加事件报错this.xxxx.xxxx not a function</h2><p>在class和模块的内部。默认是使用严格模式的，以及React的基类<code>Component</code>中所有的this都是指向class本身的，但是return出来的HTML 会被转化成实际的dom这个时候的this指向就不是定义的时候的那个class（个人肤浅理解)举例说明<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">import React, &#123; Component &#125; from  &apos;react&apos;</div><div class="line">class  APP  extends  Component &#123;</div><div class="line">OnClick () &#123;</div><div class="line">  console.log(2333)</div><div class="line">&#125;</div><div class="line">render () &#123;</div><div class="line">  return (</div><div class="line">    &lt;button  onClick=&#123;this.OnClick&#125;&gt;按钮&lt;/button&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">export default APP</div></pre></td></tr></table></figure></p>
<p>以上代码逻辑上点击按钮会触发OnClick函数，但是实际上只会报错。<br>解决方法(推荐度由高至低)：</p>
<h3 id="1-使用提案阶段语法静态属性的提案，改提案在写累的实例属性的时候可以使用等式，从而将属性和方法写入类中。（提案阶段语法，需要单独的babel插件"><a href="#1-使用提案阶段语法静态属性的提案，改提案在写累的实例属性的时候可以使用等式，从而将属性和方法写入类中。（提案阶段语法，需要单独的babel插件" class="headerlink" title="1.使用提案阶段语法静态属性的提案，改提案在写累的实例属性的时候可以使用等式，从而将属性和方法写入类中。（提案阶段语法，需要单独的babel插件"></a>1.使用提案阶段语法静态属性的<a href="https://github.com/tc39/proposal-class-fields" target="_blank" rel="external">提案</a>，改提案在写累的实例属性的时候可以使用等式，从而将属性和方法写入类中。（提案阶段语法，需要单独的<a href="http://babeljs.io/docs/plugins/transform-class-properties/" target="_blank" rel="external">babel插件</a></h3><p>官方脚手架create-react-app 已有此项配置(需要使用antd，sass，代码检查功能的可以参考这个<a href="https://gitee.com/HiMrHu/ReactGuanFangJiaoShouJia" target="_blank" rel="external">脚手架</a><br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">import React, &#123; Component &#125; from  &apos;react&apos;</div><div class="line">class  APP  extends  Component &#123;</div><div class="line">OnClick  = () =&gt; &#123;</div><div class="line">    console.log(2333)</div><div class="line">    &#125;</div><div class="line">render () &#123;</div><div class="line">return (</div><div class="line">    &lt;button  onClick=&#123;this.OnClick&#125;&gt;按钮&lt;/button&gt;</div><div class="line">   )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">export default APP</div></pre></td></tr></table></figure></p>
<h3 id="2-在构造函数中bind-this"><a href="#2-在构造函数中bind-this" class="headerlink" title="2.在构造函数中bind(this)"></a>2.在构造函数中bind(this)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">import React, &#123; Component &#125; from  &apos;react&apos;</div><div class="line">class  APP  extends  Component &#123;</div><div class="line">constructor () &#123;</div><div class="line">    super()</div><div class="line">    this.OnClick = this.OnClick.bind(this)</div><div class="line">&#125;</div><div class="line">OnClick () &#123;</div><div class="line">  console.log(2333)</div><div class="line">&#125;</div><div class="line">render () &#123;</div><div class="line">  return (</div><div class="line">    &lt;button  onClick=&#123;this.OnClick&#125;&gt;按钮&lt;/button&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">export default APP</div></pre></td></tr></table></figure>
<h3 id="3-使用匿名箭头函数返回方法"><a href="#3-使用匿名箭头函数返回方法" class="headerlink" title="3.使用匿名箭头函数返回方法"></a>3.使用匿名箭头函数返回方法</h3><p>此方法会生成不可服用的匿名函数，但是这个方法是可以主动给调用方法传参数的，慎重使用。<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">import React, &#123; Component &#125; from  &apos;react&apos;</div><div class="line">class  APP  extends  Component &#123;</div><div class="line">OnClick () &#123;</div><div class="line">  console.log(2333)</div><div class="line">&#125;</div><div class="line">render () &#123;</div><div class="line">  return (</div><div class="line">    &lt;button  onClick=&#123; () =&gt; this.OnClick &#125;&gt;按钮&lt;/button&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">export default APP</div></pre></td></tr></table></figure></p>
<h3 id="4-还有一种方法就是在jsx中bind，这个方法也可以给方法传参数而且不会产生不可复用的匿名函数，但是不好维护。和方法3各有优缺点吧（代码检查不允许在jsx中bind，所以放在了最后）"><a href="#4-还有一种方法就是在jsx中bind，这个方法也可以给方法传参数而且不会产生不可复用的匿名函数，但是不好维护。和方法3各有优缺点吧（代码检查不允许在jsx中bind，所以放在了最后）" class="headerlink" title="4.还有一种方法就是在jsx中bind，这个方法也可以给方法传参数而且不会产生不可复用的匿名函数，但是不好维护。和方法3各有优缺点吧（代码检查不允许在jsx中bind，所以放在了最后）"></a>4.还有一种方法就是在jsx中bind，这个方法也可以给方法传参数而且不会产生不可复用的匿名函数，但是不好维护。和方法3各有优缺点吧（代码检查不允许在jsx中bind，所以放在了最后）</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">import React, &#123; Component &#125; from  &apos;react&apos;</div><div class="line">class  APP  extends  Component &#123;</div><div class="line">OnClick () &#123;</div><div class="line">  console.log(2333)</div><div class="line">&#125;</div><div class="line">render () &#123;</div><div class="line">  return (</div><div class="line">    &lt;button  onClick=&#123; this.OnClick.bind(this) &#125;&gt;按钮&lt;/button&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">export default APP</div></pre></td></tr></table></figure>
<h2 id="使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义"><a href="#使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义" class="headerlink" title="使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义"></a>使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义</h2><p>Fetch是浏览器原生支持的，但是ie浏览器全系列都不支持promise，解决方案<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm install whatwg-fetch</div></pre></td></tr></table></figure></p>
<p>然后项目<code>入口</code>文件内<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">import &apos;whatwg-fetch&apos;</div></pre></td></tr></table></figure></p>
<p>React使用了Es6的Set和Map数据结构低版本浏览器不支持，一劳永逸型方案(此方案是吧所有es6特性都通过es5函数模拟，弊端是会增加js文件体积，也可以自己百度挑单独的polyfill添加）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">npm install --save babel-polyfill</div><div class="line">入口文件内</div><div class="line">import &apos;babel-polyfill&apos;</div></pre></td></tr></table></figure>
<h2 id="跨域问题"><a href="#跨域问题" class="headerlink" title="跨域问题"></a>跨域问题</h2><p>这个问题我也快被问烂了，真的太多人遇到了都不知道怎么吐槽</p>
<h3 id="1-使用CORS跨域方案，后端配置前端无忧请求只支持IE10-。"><a href="#1-使用CORS跨域方案，后端配置前端无忧请求只支持IE10-。" class="headerlink" title="1.使用CORS跨域方案，后端配置前端无忧请求只支持IE10+。"></a>1.使用<code>CORS</code>跨域方案，后端配置前端无忧请求只支持IE10+。</h3><h3 id="2-使用nginx反向代理，一劳永逸。"><a href="#2-使用nginx反向代理，一劳永逸。" class="headerlink" title="2.使用nginx反向代理，一劳永逸。"></a>2.使用<code>nginx</code>反向代理，一劳永逸。</h3><h3 id="3-Webpack有开发代理功能，自己去Webpack官网看，我记不住"><a href="#3-Webpack有开发代理功能，自己去Webpack官网看，我记不住" class="headerlink" title="3.Webpack有开发代理功能，自己去Webpack官网看，我记不住"></a>3.Webpack有开发代理功能，自己去Webpack官网看，我记不住</h3><h3 id="4-React官方脚手架create-react-app看这里"><a href="#4-React官方脚手架create-react-app看这里" class="headerlink" title="4.React官方脚手架create-react-app看这里"></a>4.React官方脚手架<code>create-react-app</code>看<a href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#proxying-api-requests-in-development" target="_blank" rel="external">这里</a></h3><h2 id="为什么我用import-style-from-‘-xxx-css’不管用啊还有为什么要这么用啊"><a href="#为什么我用import-style-from-‘-xxx-css’不管用啊还有为什么要这么用啊" class="headerlink" title="为什么我用import style from ‘../../xxx.css’不管用啊还有为什么要这么用啊"></a>为什么我用import style from ‘../../xxx.css’不管用啊还有为什么要这么用啊</h2><p>这种是为了使用css模块化，需要在webpack中配置看<a href="https://doc.webpack-china.org/loaders/css-loader/" target="_blank" rel="external">这里</a><br>其原理是给你的css类名随机化，或者添加随机后缀达到全局不会重复。用不用都行,自己衡量。</p>
<h2 id="为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404"><a href="#为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404" class="headerlink" title="为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404"></a>为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404</h2><p>这个问题是因为BrowserRouter 使用了HTML5的api导致每次url变化都是实际向服务器进行请求，所以需要后端收到前端路由请求之后都返回index.html。实在不会弄就去用HashRouter，url变化不会产生额外请求，因为他本质上一直是在/路径下</p>
<h2 id="我想拦截页面。或者在页面进入之前做一些事情"><a href="#我想拦截页面。或者在页面进入之前做一些事情" class="headerlink" title="我想拦截页面。或者在页面进入之前做一些事情"></a>我想拦截页面。或者在页面进入之前做一些事情</h2><p>请使用:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;Route path=&quot;/home&quot; render=&#123;(props) =&gt; &lt;div &#123;...props&#125;&gt;Home&lt;/div&gt;&#125;/&gt;</div></pre></td></tr></table></figure>
<p>render接受一个函数会向函数附加一个参数，这个参数是所有的Router方法和参数，记得传给组件，可以在return之前做一些判断。</p>
<h2 id="xxx-is-not-a-function-这个问题我被问了无数遍"><a href="#xxx-is-not-a-function-这个问题我被问了无数遍" class="headerlink" title="xxx is not a function 这个问题我被问了无数遍"></a><code>xxx is not a function</code> 这个问题我被问了无数遍</h2><p>我不知道怎么解释，我也不想解释。</p>
<h2 id="Cannot-read-property-39-xxx-39-of-undefined-quot-这个问题比上面那个问题问的少一点或许吧。"><a href="#Cannot-read-property-39-xxx-39-of-undefined-quot-这个问题比上面那个问题问的少一点或许吧。" class="headerlink" title="Cannot read property &#39;xxx&#39; of undefined&quot;这个问题比上面那个问题问的少一点或许吧。"></a><code>Cannot read property &#39;xxx&#39; of undefined&quot;</code>这个问题比上面那个问题问的少一点或许吧。</h2><p>这个一般都是组件内部引用了props传下来的值，但是父组件没传，或者引用了不存在的值。自己仔细检查。</p>
<h2 id="token-operator-xxxxx这个问题问的人少。"><a href="#token-operator-xxxxx这个问题问的人少。" class="headerlink" title="token: operator xxxxx这个问题问的人少。"></a><code>token: operator xxxxx</code>这个问题问的人少。</h2><p>少了括号，多了逗号，多了括号巴拉巴拉的。</p>
<h2 id="npm-run-build之后我打开index-html不能访问啊"><a href="#npm-run-build之后我打开index-html不能访问啊" class="headerlink" title="npm run build之后我打开index.html不能访问啊"></a><code>npm run build</code>之后我打开index.html不能访问啊</h2><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">1\. 给后端，让他给你弄。 2\. 参考上一条。 3\. 还不死心？那就打开index.html 吧文件路径改成./开头的就好了。</div></pre></td></tr></table></figure>
<h2 id="axios的-post-请求后台接受不到-直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化"><a href="#axios的-post-请求后台接受不到-直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化" class="headerlink" title="axios的 post 请求后台接受不到 (直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化"></a>axios的 post 请求后台接受不到 (直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化</h2><p><code>axios</code>默认是 json 格式提交,确认后台是否做了对应的支持;</p>
<p>若是只能接受传统的表单序列化,就需要自己写一个转义的方法…</p>
<p>当然还有一个更加省事的方案,装一个小模块<code>qs</code><br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm install qs -S </div><div class="line">// 然后在对应的地方转就行了..单一请求也行,拦截器也行...我是写在拦截器的. </div><div class="line">// 具体可以看看我 axios 封装那篇文章 //POST传参序列化(添加请求拦截器) Axios.interceptors.request.use( config =&gt; &#123; </div><div class="line">// 在发送请求之前做某件事 </div><div class="line">if ( config.method === &quot;post&quot; ) &#123; </div><div class="line">// 序列化 </div><div class="line">config.data = qs.stringify(config.data); </div><div class="line">// ***** 这里转义 &#125; </div><div class="line">// 若是有做鉴权token , 就给头部带上token </div><div class="line">if (localStorage.token) &#123; config.headers.Authorization = localStorage.token; &#125; return config; &#125;, error =&gt; &#123; Message(&#123; </div><div class="line">// 饿了么的消息弹窗组件,类似toast showClose: true, message: error, type: &quot;error.data.error.message&quot; &#125;); </div><div class="line">return Promise.reject(error.data.error.message); &#125; );</div></pre></td></tr></table></figure></p>
<h2 id="Array-mapState-SOME-MUTATION-state-increment-commit-是什么"><a href="#Array-mapState-SOME-MUTATION-state-increment-commit-是什么" class="headerlink" title="[...Array],...mapState,[SOME_MUTATION] (state) {},increment ({ commit }) {}是什么"></a><code>[...Array]</code>,<code>...mapState</code>,<code>[SOME_MUTATION] (state) {}</code>,<code>increment ({ commit }) {}</code>是什么</h2><p>数组解构,对象解构,对象风格函数,对象解构赋值传递（第三个我也不知道）</p>
<h2 id="redux-的用户信息为什么还要存一遍在浏览器里-sessionStorage-or-localStorage"><a href="#redux-的用户信息为什么还要存一遍在浏览器里-sessionStorage-or-localStorage" class="headerlink" title="redux 的用户信息为什么还要存一遍在浏览器里(sessionStorage or localStorage)"></a>redux 的用户信息为什么还要存一遍在浏览器里(sessionStorage or localStorage)</h2><p>因为<code>Redux</code>的 store 干不过刷新啊.<br>保存在浏览器的缓存内,若用户刷新的话,在从里面取一下信息</p>
<h2 id="有什么React-Redux-Router学习项目吗"><a href="#有什么React-Redux-Router学习项目吗" class="headerlink" title="有什么React+Redux+Router学习项目吗"></a>有什么React+Redux+Router学习项目吗</h2><p>偷偷放上自己的<a href="https://github.com/HiMrHu/cnode" target="_blank" rel="external">代码</a></p>
<h2 id="nginx部署"><a href="#nginx部署" class="headerlink" title="nginx部署"></a>nginx部署</h2><p>传送门:<a href="https://link.juejin.im/?target=https%3A%2F%2Fjuejin.im%2Fpost%2F58bfc412da2f60124db5999a" target="_blank" rel="external">一篇不大靠谱的nginx 1.11.10配置文件</a></p>
<h2 id="为什么我的npm或者yarn安装依赖会生成lock文件-有什么用"><a href="#为什么我的npm或者yarn安装依赖会生成lock文件-有什么用" class="headerlink" title="为什么我的npm或者yarn安装依赖会生成lock文件,有什么用"></a>为什么我的<code>npm</code>或者<code>yarn</code>安装依赖会生成<code>lock</code>文件,有什么用</h2><p>版本锁工具，以前有次npm出现了npm到的包不是自己想要的，所以就用lock这个文件记录了下载地址包版本，加密的值。用于控制版本。保证包的前后一致。</p>
<h2 id="package-json里面的dependencies和devDependencies的差异"><a href="#package-json里面的dependencies和devDependencies的差异" class="headerlink" title="package.json里面的dependencies和devDependencies的差异"></a><code>package.json</code>里面的<code>dependencies</code>和<code>devDependencies</code>的差异</h2><p>其实不严格的话,没有特别的差异;<br>若是严格,遵循官方的理解;</p>
<ul>
<li><code>dependencies</code>   : 存放线上或者业务能访问的核心代码模块,比如    <code>vue</code>,<code>vue-router</code>;</li>
<li><code>devDependencies</code>: 处于开发模式下所依赖的开发模块,也许只是用来解析代码,转义代码,但是不产生额外的代码到生产环境, 比如什么<code>babel-core</code>这些</li>
</ul>
<p>新版的npm已经不需要<code>--save</code></p>
<p><code>--save-dev</code></p>
<p>这指令的，当然也可以加上，npm会根据包的说明摆放位置的。<br>再说一遍代码打包看的是引入以及依赖关系，和在<code>dependencies</code>还是<code>devDependencies</code>放的没有一毛钱关系！！！！！！！！！！</p>
<h2 id="babelre无效"><a href="#babelre无效" class="headerlink" title=".babelre无效"></a>.babelre无效</h2><p><code>npm start</code>启动<code>.babelrc</code>无效，在<code>node_modules/react-scripts/config/webpack.config.dev.js</code>路径下</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-e071a8e04ccd817f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><code>false</code>改为<code>true</code></p>

                <hr>
                

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/12/21/Redux中间件与异步/" data-toggle="tooltip" data-placement="top"
                           title="Redux中间件与异步">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2017/12/19/Redux基本用法/" data-toggle="tooltip" data-placement="top"
                           title="Redux基本用法">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                

                


                <!--加入新的评论系统-->
                
            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm下载很慢或者下载失败”-npm下载很慢或者下载失败"><span class="toc-text">npm下载很慢或者下载失败”)npm下载很慢或者下载失败</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-NPM换源"><span class="toc-text">1.  NPM换源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-使用淘宝出的NPM替代品CNPM"><span class="toc-text">1.  使用淘宝出的NPM替代品CNPM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NPM安装NODE-SASS-使用SASS但是无法下载NODE-SASS"><span class="toc-text">NPM安装NODE-SASS 使用SASS但是无法下载NODE-SASS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#找不到相关资源can-39-t-not-find-39-xxModule-39"><span class="toc-text">找不到相关资源can't not find 'xxModule'</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-引用路径有问题，npm包是直接Import-React-from-‘react’-只需要写包名即可。而引用组件，静态资源是需要写相对路径的（有个问题就是所有文件里面的静态资源都需要import引入或者require引入，否则webpack无法得知依赖关系，而导致找不到）。"><span class="toc-text">1.  引用路径有问题，npm包是直接Import React from ‘react’ 只需要写包名即可。而引用组件，静态资源是需要写相对路径的（有个问题就是所有文件里面的静态资源都需要import引入或者require引入，否则webpack无法得知依赖关系，而导致找不到）。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-第二种就是相关包没有下载或者下载不齐全，项目根目录重新命令行NPM-i-即可"><span class="toc-text">2.  第二种就是相关包没有下载或者下载不齐全，项目根目录重新命令行NPM i 即可</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React的给return出来的HTML添加事件报错this-xxxx-xxxx-not-a-function"><span class="toc-text">React的给return出来的HTML添加事件报错this.xxxx.xxxx not a function</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-使用提案阶段语法静态属性的提案，改提案在写累的实例属性的时候可以使用等式，从而将属性和方法写入类中。（提案阶段语法，需要单独的babel插件"><span class="toc-text">1.使用提案阶段语法静态属性的提案，改提案在写累的实例属性的时候可以使用等式，从而将属性和方法写入类中。（提案阶段语法，需要单独的babel插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-在构造函数中bind-this"><span class="toc-text">2.在构造函数中bind(this)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-使用匿名箭头函数返回方法"><span class="toc-text">3.使用匿名箭头函数返回方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-还有一种方法就是在jsx中bind，这个方法也可以给方法传参数而且不会产生不可复用的匿名函数，但是不好维护。和方法3各有优缺点吧（代码检查不允许在jsx中bind，所以放在了最后）"><span class="toc-text">4.还有一种方法就是在jsx中bind，这个方法也可以给方法传参数而且不会产生不可复用的匿名函数，但是不好维护。和方法3各有优缺点吧（代码检查不允许在jsx中bind，所以放在了最后）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义"><span class="toc-text">使用Fetch，但是ie浏览器报错Fetch未定义，及其他浏览器set未定义Map未定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#跨域问题"><span class="toc-text">跨域问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-使用CORS跨域方案，后端配置前端无忧请求只支持IE10-。"><span class="toc-text">1.使用CORS跨域方案，后端配置前端无忧请求只支持IE10+。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-使用nginx反向代理，一劳永逸。"><span class="toc-text">2.使用nginx反向代理，一劳永逸。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Webpack有开发代理功能，自己去Webpack官网看，我记不住"><span class="toc-text">3.Webpack有开发代理功能，自己去Webpack官网看，我记不住</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-React官方脚手架create-react-app看这里"><span class="toc-text">4.React官方脚手架create-react-app看这里</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么我用import-style-from-‘-xxx-css’不管用啊还有为什么要这么用啊"><span class="toc-text">为什么我用import style from ‘../../xxx.css’不管用啊还有为什么要这么用啊</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404"><span class="toc-text">为什么我使用BrowserRouter开发环境正常，部署之后刷新就是404</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#我想拦截页面。或者在页面进入之前做一些事情"><span class="toc-text">我想拦截页面。或者在页面进入之前做一些事情</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xxx-is-not-a-function-这个问题我被问了无数遍"><span class="toc-text">xxx is not a function 这个问题我被问了无数遍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cannot-read-property-39-xxx-39-of-undefined-quot-这个问题比上面那个问题问的少一点或许吧。"><span class="toc-text">Cannot read property 'xxx' of undefined"这个问题比上面那个问题问的少一点或许吧。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#token-operator-xxxxx这个问题问的人少。"><span class="toc-text">token: operator xxxxx这个问题问的人少。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-run-build之后我打开index-html不能访问啊"><span class="toc-text">npm run build之后我打开index.html不能访问啊</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#axios的-post-请求后台接受不到-直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化"><span class="toc-text">axios的 post 请求后台接受不到 (直接抄原文的，我没遇到过，自己弄得垃圾node也只接受json格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array-mapState-SOME-MUTATION-state-increment-commit-是什么"><span class="toc-text">[...Array],...mapState,[SOME_MUTATION] (state) {},increment ({ commit }) {}是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#redux-的用户信息为什么还要存一遍在浏览器里-sessionStorage-or-localStorage"><span class="toc-text">redux 的用户信息为什么还要存一遍在浏览器里(sessionStorage or localStorage)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#有什么React-Redux-Router学习项目吗"><span class="toc-text">有什么React+Redux+Router学习项目吗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nginx部署"><span class="toc-text">nginx部署</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么我的npm或者yarn安装依赖会生成lock文件-有什么用"><span class="toc-text">为什么我的npm或者yarn安装依赖会生成lock文件,有什么用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#package-json里面的dependencies和devDependencies的差异"><span class="toc-text">package.json里面的dependencies和devDependencies的差异</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#babelre无效"><span class="toc-text">.babelre无效</span></a></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#React"
                           title="React">React</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <div style="margin-top: 20px;">
                    <h5 class="text-center">FRIENDS</h5>
                    <ul class="list-inline text-center">
                        
                        <li><a href="http://www.bugbo.xyz/">BugBo</a></li>
                        
                        <li><a href="http://dragonblog.club/">Dragon</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>

    </div>
</article>







<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/syymo">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/syymo">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/syymo">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; syymo 2018
                    <br>
                    <span id="busuanzi_container_site_uv" style="font-size: 12px;">UV: <span id="busuanzi_value_site_uv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://syymo.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-108450504-1';
    var _gaDomain = 'auto';
    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>


<!-- Baidu Tongji -->


<!-- swiftype -->
<!-- <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','','2.0.0');
</script> -->

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="https://avatars2.githubusercontent.com/u/26571594?s=460&amp;v=4">
</body>

</html>

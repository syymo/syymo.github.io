<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Github 上的个人博客">
    <meta name="keyword" content="">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-person-128.png">
    <link rel="alternate" type="application/atom+xml" title="syymo" href="/atom.xml">
    <title>
        
        React+Webpack实现热加载环境｜syymo&#39;s blog
        
    </title>

    <link rel="canonical" href="http://syymo.github.io/2017/09/24/React-Webpack实现热加载环境/">

    <!-- Font-awesome Core CSS -->
    <link rel="stylesheet" href="/css/font-awesome.min.css">

    <!-- Animate Core CSS -->
    <link rel="stylesheet" href="/css/animate.min.css">
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('//o7bkkhiex.bkt.clouddn.com/lion-blur-bg.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    syymo
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
                        
							
                        <li>
                            <a href="/archives/">archives</a>
                        </li>
							
						
                    
                        
							
                        <li>
                            <a href="/tags/">tags</a>
                        </li>
							
						
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="https://avatars2.githubusercontent.com/u/26571594?s=460&v=4">


<style>
    
    header.intro-header {
        background-image: url('https://avatars2.githubusercontent.com/u/26571594?s=460&v=4')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>React+Webpack实现热加载环境</h1>
                    
                    <span class="meta">
                         作者 syymo
                        <span>
                          日期 2017-09-24
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                        <a class="tag" href="/tags/#React"
                           title="React">React</a>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            React+Webpack实现热加载环境
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <p>首先下载<a href="http://nodejs.cn/" target="_blank" rel="external">nodejs</a>并且安装好。</p>
<p>紧接着在nodejs路径下新建<br>node_global(全局存放路径)和node_cache(全局缓存路径)文件夹</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-2a6bf2cc34086397.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>并且配置环境变量</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-4d593c22df13fd54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="node环境变量"></p>
<p>此时在cmd窗口分别输入<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm config set prefix &quot;d:\nodejs\node_global&quot;</div><div class="line"></div><div class="line">npm config set cache &quot;d:\nodejs\node_cache&quot;</div></pre></td></tr></table></figure></p>
<h4 id="运行后无结果则是成功。"><a href="#运行后无结果则是成功。" class="headerlink" title="运行后无结果则是成功。"></a>运行后无结果则是成功。</h4><p>现在下载webpack</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-b694c325a4ebe8e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="安装webpack"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//安装全局webpack</div><div class="line">npm install webpack -g</div></pre></td></tr></table></figure>
<p>-g表示全局<br>显示图中所示即安装成功</p>
<p><code>npm install webpack-dev-server -g</code><br>此插件不为必须安装 node官方推荐使用</p>
<p>安装并环境变量配置完成后<br><img src="http://upload-images.jianshu.io/upload_images/2088736-7d5df678a99d5f08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>显示版本号则成功</p>
<p>若有人输入webpack提示不是内部命令则说明未配置NODE_PATH环境变量。</p>
<p>等待一切准备完成之后<br>开始新建react项目</p>
<h4 id="1-首先新建一个项目文件夹，此处我建立的react"><a href="#1-首先新建一个项目文件夹，此处我建立的react" class="headerlink" title="1. 首先新建一个项目文件夹，此处我建立的react"></a>1. 首先新建一个项目文件夹，此处我建立的react</h4><p>dos进入新建的react目录下</p>
<h4 id="2-在练习文件夹中创建一个package-json文件，这是一个npm说明文件，里面蕴含了丰富的信息，包括当前项目的依赖模块，自定义的脚本任务等等。在终端中使用npm-init命令可以自动创建这个package-json文件"><a href="#2-在练习文件夹中创建一个package-json文件，这是一个npm说明文件，里面蕴含了丰富的信息，包括当前项目的依赖模块，自定义的脚本任务等等。在终端中使用npm-init命令可以自动创建这个package-json文件" class="headerlink" title="2. 在练习文件夹中创建一个package.json文件，这是一个npm说明文件，里面蕴含了丰富的信息，包括当前项目的依赖模块，自定义的脚本任务等等。在终端中使用npm init命令可以自动创建这个package.json文件"></a>2. 在练习文件夹中创建一个package.json文件，这是一个npm说明文件，里面蕴含了丰富的信息，包括当前项目的依赖模块，自定义的脚本任务等等。在终端中使用npm init命令可以自动创建这个package.json文件</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-ec840ae0825ce0c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="初始化过程"><br>安装过程中一路回车即可</p>
<p>此时练习文件夹中会生成<br><img src="http://upload-images.jianshu.io/upload_images/2088736-e88ec3927b13e3b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="生成的"></p>
<h4 id="3-此时在练习文件夹下安装webpack模块，react模块，react-dom模块"><a href="#3-此时在练习文件夹下安装webpack模块，react模块，react-dom模块" class="headerlink" title="3. 此时在练习文件夹下安装webpack模块，react模块，react-dom模块"></a>3. 此时在练习文件夹下安装webpack模块，react模块，react-dom模块</h4><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">//安装项目目录</div><div class="line">npm install --save-dev webpack</div><div class="line">npm install --save-dev webpack-dev-server(非必须)</div><div class="line">npm install --save-dev react</div><div class="line">npm install --save-dev react-dom</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-091d8ffe08e06fc9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="react react-dom"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-5d47e5e32155a6c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="webpack"></p>
<h4 id="4-安装babel支持"><a href="#4-安装babel支持" class="headerlink" title="4. 安装babel支持"></a>4. 安装babel支持</h4><p><code>npm install babel-preset-es2015 babelify babel-preset-react babel-plugin-react-html-attrs babel-loader --save</code></p>
<h4 id="5-回到之前的空文件夹"><a href="#5-回到之前的空文件夹" class="headerlink" title="5. 回到之前的空文件夹"></a>5. 回到之前的空文件夹</h4><ul>
<li>在根目录下新建index.html,index.html代码如下<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;div id=&quot;example&quot;&gt;Hello react&lt;/div&gt;</div><div class="line">&lt;script src=&quot;./src/bundle.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-dc372d19427f1974.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="运行结果"></p>
<ul>
<li>在根目录下新建src文件夹</li>
<li>在src文件夹下新建js文件夹</li>
<li><p>在js文件夹下新建index.js文件, index.js内容如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">var React = require(&apos;react&apos;);</div><div class="line">var ReactDOM = require(&apos;react-dom&apos;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;h1&gt;Hello World!&lt;/h1&gt;,</div><div class="line">    document.getElementById(&apos;example&apos;)</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
<li><p>在根目录新建webpack.config.js,webpack.config.js内容如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">var debug = process.env.NODE_ENV !== &quot;production&quot;;</div><div class="line">var webpack = require(&apos;webpack&apos;);</div><div class="line">var path = require(&apos;path&apos;);</div><div class="line"></div><div class="line">module.exports = &#123;</div><div class="line">  context: path.join(__dirname),</div><div class="line">  devtool: debug ? &quot;inline-sourcemap&quot; : null,</div><div class="line">  entry: &quot;./src/js/index.js&quot;, //这里是入口文件地址,可根据自身的位置进行修改</div><div class="line">  module: &#123;</div><div class="line">    loaders: [</div><div class="line">      &#123;</div><div class="line">        test: /\.js?$/,</div><div class="line">        exclude: /(node_modules)/,</div><div class="line">        loader: &apos;babel-loader&apos;,</div><div class="line">        query: &#123;</div><div class="line">          presets: [&apos;react&apos;, &apos;es2015&apos;],</div><div class="line">          plugins: [&apos;react-html-attrs&apos;], //添加组件的插件配置</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      //下面是使用 ant-design 的配置文件</div><div class="line">      &#123; test: /\.css$/, loader: &apos;style-loader!css-loader&apos; &#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  output: &#123;</div><div class="line">    path: __dirname,</div><div class="line">    filename: &quot;./src/bundle.js&quot;</div><div class="line">  &#125;,</div><div class="line">  plugins: debug ? [] : [</div><div class="line">    new webpack.optimize.DedupePlugin(),</div><div class="line">    new webpack.optimize.OccurenceOrderPlugin(),</div><div class="line">    new webpack.optimize.UglifyJsPlugin(&#123; mangle: false, sourcemap: false &#125;),</div><div class="line">  ],</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-d2b4d1ca901e10c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="文件夹结构"></p>
<h4 id="6-webpack"><a href="#6-webpack" class="headerlink" title="6. webpack"></a>6. webpack</h4><p><img src="http://upload-images.jianshu.io/upload_images/2088736-cc21e6f6584e8ff3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<p>运行index.html<br><img src="http://upload-images.jianshu.io/upload_images/2088736-cac677ba61b37d68.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="运行界面"></p>
<h4 id="7-实现热加载"><a href="#7-实现热加载" class="headerlink" title="7. 实现热加载"></a>7. 实现热加载</h4><p>热加载：每次修改代码不需要在进行webpack打包</p>
<p>webpack-dev-server会创建一个本地服务器,我们在编辑器中编辑后,就能实时的在浏览器中看到效果</p>
<h4 id="8-webpack打包项目"><a href="#8-webpack打包项目" class="headerlink" title="8. webpack打包项目"></a>8. webpack打包项目</h4><p>npm run webpack</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2088736-2853b75de2d5aa08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<p>此文章参考<a href="http://www.jianshu.com/p/6e18ad661540" target="_blank" rel="external">Lee_tanghui</a></p>

                <hr>
                

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/09/25/Github基本用法/" data-toggle="tooltip" data-placement="top"
                           title="Github基本用法">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2017/09/24/React入门之JSX用法/" data-toggle="tooltip" data-placement="top"
                           title="React入门之JSX用法">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                

                


                <!--加入新的评论系统-->
                
            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#运行后无结果则是成功。"><span class="toc-text">运行后无结果则是成功。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-首先新建一个项目文件夹，此处我建立的react"><span class="toc-text">1. 首先新建一个项目文件夹，此处我建立的react</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-在练习文件夹中创建一个package-json文件，这是一个npm说明文件，里面蕴含了丰富的信息，包括当前项目的依赖模块，自定义的脚本任务等等。在终端中使用npm-init命令可以自动创建这个package-json文件"><span class="toc-text">2. 在练习文件夹中创建一个package.json文件，这是一个npm说明文件，里面蕴含了丰富的信息，包括当前项目的依赖模块，自定义的脚本任务等等。在终端中使用npm init命令可以自动创建这个package.json文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-此时在练习文件夹下安装webpack模块，react模块，react-dom模块"><span class="toc-text">3. 此时在练习文件夹下安装webpack模块，react模块，react-dom模块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-安装babel支持"><span class="toc-text">4. 安装babel支持</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-回到之前的空文件夹"><span class="toc-text">5. 回到之前的空文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-webpack"><span class="toc-text">6. webpack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-实现热加载"><span class="toc-text">7. 实现热加载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-webpack打包项目"><span class="toc-text">8. webpack打包项目</span></a></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#React"
                           title="React">React</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <div style="margin-top: 20px;">
                    <h5 class="text-center">FRIENDS</h5>
                    <ul class="list-inline text-center">
                        
                        <li><a href="http://www.bugbo.xyz/">BugBo</a></li>
                        
                        <li><a href="http://www.dragonblog.club/">Dragon</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>

    </div>
</article>







<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/syymo">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="http://weibo.com/2168953782/profile?topnav=1&amp;wvr=6">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/syymo">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; syymo 2017
                    <br>
                    <span id="busuanzi_container_site_uv" style="font-size: 12px;">UV: <span id="busuanzi_value_site_uv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://syymo.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-108450504-1';
    var _gaDomain = 'auto';
    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>


<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="https://avatars2.githubusercontent.com/u/26571594?s=460&amp;v=4">
</body>

</html>
